#### 名词

```sh
#网桥：
#连接2个网络，转发数据
#减少载波监听/多路冲突检测
#可记录设备入口

#双绞线：
#半双工，4组8根（2根有用），至少接4根，
#颜色：绿橙蓝棕，白绿白橙白蓝白棕。两两扭在一起，一根传输信号，一根抗干扰

#交换机
#内置多条线路，接口连接电脑，全双工
#收到信号转发，不做处理
#内置动态条目表，记录设备位置
#隔离冲突，不隔离广播

#路由器
#隔离广播，连接不同交换网络
#具有ip和mac地址

#路由表
网络路由：路由表中的条目为网络地址
主机路由：路由表中的条目为主机地址
默认路由：0.0.0.0

#通信示例；
#网络A有a1,a2,a3，交换机aa
#网络B有b1,b2.b3,交换机bb
#路由器X通过Xa和Xb接口连接2个网络
#现在，a1和b2通信：
a1->aa->Xa
Xa(广播包)->bb->b2
#注意：通信过程，源ip和目标ip不变，报文转发发送过程中源mac地址和目的mac地址一直在变化
```

```SH
#ARP:地址解析（ip->mac）

#网关地址和本地设备地址需要在同一个网段

#套接字：ip和端口绑定在一起的名称
```

#### ip地址

```sh
#网路地址：
A:0000 0000 - 0111 1111		
1-127
127开头：#回环地址
1.0.0.0/8：#私有地址

B:1000 0000 - 1011 1111		
128-191
172.16.0.0/16 - 172.31.0.0/16：#私有地址
169.254.：#本地地址，随机获得，只能用于本地通信

C:1100 0000 - 1101 1111
192-223
192.168.0.0/8 - 192.168.255.0/8：#私有地址

D:1110 0000 - 1110 1111
224-239

E:保留

```

#### 报文

```sh
#tcp建立连接示例：（A和B通信）
1.A(SYN=1,sn=100) -> B		#sn为A的报文序列号示例
2.B(SYN=1,ACK=1,an=101,sn=300) -> A	#sn为B的报文序列号示例
3.A(ACK=1,sn=101,an=301) -> B
...传输数据，sn递增

#tcp断开连接：(?)
1.A(FIN=1,sn=xxx) -> B
2.B(FIN=1,ACK=1,sn=yyy) -> A
3.B(FIN=1,an=xxx+1,sn=yyy+1) -> A
4.A(FIN=1,ACK=1,sn=xxx+1,an=yyy+2) -> B
```

#### 网络配置

```sh
lo：本地回环
ethX：以太网网卡
pppX：点对点

#网络配置文件
/etc/sysconfig/network
#网络接口配置文件
/etc/sysconfig/network-scripts/ifcfg-INTERFACE_NAME
#网卡定义
/etc/modprobe.conf

#DNS服务器
/etc/resolv.conf

#命令：ip
ip --help			#帮助

#ip link			#配置网络接口属性
ip link show		#查看网络接口地址
ip -s link show		#统计网卡信息
ip link set DEVICE_NAME {up | down | arp {on | off}}

#ip addr			#协议地址
ip addr {add | del | show | flush}
ip addr show dev eth1		#显示网卡eth1的地址
ip addr add IP_STRING dev DEV_NAME 	#添加
ip addr add 10.3.3.3/8 dev eth1 label eth1:1	#示例，添加地址并指定别名
ip addr del IP_STRING dev DEV_NAME 	#删除
ip addr flush dev eth1 to 10/8		#删除网卡eth1上面10开头的地址

route -n 		#查看路由
#ip route 			#路由
ip route show 		#显示路由
ip route add to 10.0.0.0/8 dev eth0 via 172.16.0.1	#添加路由，网关10.0.0.0下一跳为172.16.0.1
ip route flush to 10/8	#删除10开头的路由


#一个网卡多个地址
#网卡起别名，如eth0，指定eth0:0，eth0:1
#再给每个别名指定地址即可（别名无法使用DHCP协议）


```

